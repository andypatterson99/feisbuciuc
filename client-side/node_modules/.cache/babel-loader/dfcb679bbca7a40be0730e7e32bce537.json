{"ast":null,"code":"var _jsxFileName = \"D:\\\\Personal\\\\Lateral-Internship\\\\Office\\\\feisbuciuc\\\\New folder\\\\src\\\\components\\\\pages\\\\main\\\\NewsFeed.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport PostCard from './PostCard';\nimport { Link } from 'react-router-dom'; // import { createPost, fetchUsers } from '../../../actions';\n\nimport PostForm from './PostForm';\nimport { connect, useDispatch } from 'react-redux';\nimport _ from 'lodash';\nimport \"./PostCard.css\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst NewsFeed = ({\n  user,\n  users\n}) => {\n  _s();\n\n  const [showPostCreator, setShowPostCreator] = useState(false);\n\n  const togglePostCreator = () => {\n    document.querySelector(\"#PostModal\").style.display = \"none\";\n    setShowPostCreator(!showPostCreator);\n  };\n\n  const dispatch = useDispatch();\n\n  const onSubmit = formValues => {\n    if (formValues.postTitle != '') {\n      const postedOn = new Date().toLocaleDateString();\n      console.log(\"NEW POST\", { ...formValues,\n        postedOn\n      }); // dispatch(createPost({...formValues, authorId: user.userId, authorName: user.userName, postDate: postedOn, profilePic: user.profilePic }));\n\n      axios.patch(`http://localhost:3001/createPost/${user._id}`, { ...formValues,\n        action: \"CREATE_POST\"\n      });\n      togglePostCreator();\n      setTimeout(() => window.location.reload(), 100);\n    }\n  };\n\n  const deletePost = postId => {\n    axios.patch(`http://localhost:3001/user/${user._id}/${postId}`).then(data => data.data.data);\n    window.location.reload();\n  };\n\n  useEffect(() => {}, [users]);\n\n  if (_.isEmpty(user)) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex justify-content-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"NewsFeed\",\n      className: \"w-50 p-5 \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row border-bottom pb-2 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"avatar ml-2 btn-lg\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                style: {\n                  width: \"75px\",\n                  height: \"75px\"\n                },\n                id: \"avatar\",\n                src: user.profilePic\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              onClick: togglePostCreator,\n              className: \"form-control mt-4 w-75 supForm\",\n              placeholder: `What's on your mind, ${user.userName.split(\" \")[0]} ?`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row d-flex justify-content-end w-100 px-5\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              onClick: togglePostCreator,\n              className: \"m-1 btn btn-primary w-25 mx-5\",\n              children: \"Create a Post\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(PostCard, {\n        currentUser: user,\n        users: users,\n        deletePost: deletePost\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"PostModal\",\n        children: /*#__PURE__*/_jsxDEV(PostForm, {\n          user: user,\n          posts: users,\n          togglePostCreator: togglePostCreator,\n          showPostCreator: showPostCreator,\n          onSubmit: onSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)]\n    }, user.userName, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n\n_s(NewsFeed, \"sxZymAhm/XqVu3tX/Mc/KAg36io=\", false, function () {\n  return [useDispatch];\n});\n\n_c = NewsFeed;\nexport default NewsFeed;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewsFeed\");","map":{"version":3,"sources":["D:/Personal/Lateral-Internship/Office/feisbuciuc/New folder/src/components/pages/main/NewsFeed.js"],"names":["React","useState","useEffect","PostCard","Link","PostForm","connect","useDispatch","_","axios","NewsFeed","user","users","showPostCreator","setShowPostCreator","togglePostCreator","document","querySelector","style","display","dispatch","onSubmit","formValues","postTitle","postedOn","Date","toLocaleDateString","console","log","patch","_id","action","setTimeout","window","location","reload","deletePost","postId","then","data","isEmpty","width","height","profilePic","userName","split"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport PostCard from './PostCard';\r\nimport { Link } from 'react-router-dom';\r\n// import { createPost, fetchUsers } from '../../../actions';\r\nimport PostForm from './PostForm';\r\nimport { connect, useDispatch } from 'react-redux';\r\nimport _ from 'lodash';\r\n\r\nimport \"./PostCard.css\";\r\nimport axios from 'axios';\r\n\r\n\r\nconst NewsFeed = ( { user, users }) => {\r\n    const [ showPostCreator, setShowPostCreator ] = useState(false);\r\n    \r\n    const togglePostCreator = () =>{\r\n        document.querySelector(\"#PostModal\").style.display = \"none\"\r\n        setShowPostCreator(!showPostCreator)\r\n    }\r\n    const dispatch = useDispatch();\r\n\r\n    const onSubmit = (formValues) => {\r\n        if(formValues.postTitle != ''){\r\n            const postedOn = new Date().toLocaleDateString();\r\n            console.log(\"NEW POST\", {...formValues, postedOn})\r\n            // dispatch(createPost({...formValues, authorId: user.userId, authorName: user.userName, postDate: postedOn, profilePic: user.profilePic }));\r\n            axios.patch(`http://localhost:3001/createPost/${user._id}`, { ...formValues, action: \"CREATE_POST\" })\r\n            togglePostCreator();\r\n            setTimeout(() => window.location.reload() , 100);\r\n        }\r\n    }\r\n\r\n    const deletePost = (postId) => {\r\n        axios.patch(`http://localhost:3001/user/${user._id}/${postId}`).then(data => data.data.data)\r\n        window.location.reload();\r\n    }\r\n\r\n    useEffect(() => {\r\n        \r\n    }, [users]);\r\n\r\n    if(_.isEmpty(user)){\r\n        return <div></div>\r\n    }\r\n  \r\n\r\n    return (\r\n        <div className=\"d-flex justify-content-center\">\r\n            <div key={user.userName} id=\"NewsFeed\" className=\"w-50 p-5 \">\r\n                <div className=\"card p-4\">\r\n                    <form>\r\n                        <div className=\"row border-bottom pb-2 mb-2\">\r\n                            <div className=\"avatar ml-2 btn-lg\">\r\n                                <img style={{ width: \"75px\", height: \"75px\" }} id=\"avatar\" src={user.profilePic}></img>\r\n                            </div>\r\n                            <input onClick = { togglePostCreator } className=\"form-control mt-4 w-75 supForm\" placeholder={`What's on your mind, ${ user.userName.split(\" \")[0] } ?`}/>\r\n                        </div>\r\n                        {/* <Link to='/' className=\"m-1 btn btn-primary\">Post</Link> */}\r\n                        <div className=\"row d-flex justify-content-end w-100 px-5\">\r\n                            <Link to='/' onClick = { togglePostCreator } className=\"m-1 btn btn-primary w-25 mx-5\">Create a Post</Link>\r\n                        </div>\r\n                    </form>\r\n\r\n                </div>\r\n                <PostCard  \r\n                    currentUser = { user } \r\n                    users = { users }\r\n                    deletePost = { deletePost }    \r\n                />            \r\n                <div id=\"PostModal\">\r\n                    <PostForm\r\n                        user = { user } \r\n                        posts = { users }\r\n                        togglePostCreator = { togglePostCreator } \r\n                        showPostCreator = { showPostCreator }\r\n                        onSubmit = { onSubmit } \r\n                    />\r\n                </div>\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default NewsFeed;"]},"metadata":{},"sourceType":"module"}